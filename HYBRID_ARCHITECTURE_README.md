# A股市场分析系统 (EastMoney实时信号 + Tushare回测)

基于您提供的架构，系统现在采用双数据源策略：
- **实时信号生成**: 使用EastMoney作为主要数据源（稳定可靠）
- **历史回测**: 使用Tushare作为数据源（精确回溯）

## 系统架构

### 1. 实时信号生成 (EastMoney驱动)
- **数据源**: EastMoney (免费且稳定)
- **频率**: 日级别数据分析，生成实时买卖信号
- **优点**: 不需要付费权限，数据获取稳定
- **应用场景**: 实时交易信号生成

### 2. 历史回测 (Tushare驱动)
- **数据源**: Tushare (需token权限)
- **频率**: 日级别或分钟级别历史数据
- **优点**: 历史数据完整准确，适合策略验证
- **应用场景**: 策略回测和绩效评估

## 功能特性

### 实时信号生成
- **多策略支持**: 移动平均线交叉、RSI、MACD等多种技术指标
- **实时分析**: 基于最新市场数据生成买卖信号
- **信号通知**: 买入（🟢）/卖出（🔴）信号实时推送
- **智能降级**: 当EastMoney数据不可用时自动使用模拟数据
- **增强错误处理**: 网络连接问题时自动切换到备用方案

### 历史回测
- **精确回溯**: 使用Tushare历史数据进行策略验证
- **绩效分析**: 提供收益率、最大回撤等关键指标
- **多频率支持**: 支持日级别和分钟级别回测
- **策略对比**: 可以测试多种策略表现
- **可靠数据源**: 使用Tushare专业数据确保回测准确性

## 使用方法

### 运行完整系统
```bash
cd /Users/missy/PROJ/Quanter
python -m quant_trade_a_share.main_rt_backtest
```

### 系统将执行：
1. **实时信号生成**: 使用EastMoney数据生成最新买卖信号
2. **历史回测**: 使用Tushare数据验证策略表现
3. **信号通知**: 推送实时和回测信号

## 配置说明

### Tushare Token
系统已配置您的Tushare token：
```
744295f7af6adf63074518f919f5ad5054caf8b84d3c07c066f5c42e
```

### 数据源优先级
1. **实时信号**: EastMoney (免费、稳定、实时)
2. **回测数据**: Tushare (精确、完整的历史数据)

## 信号解读

### 实时信号
- 🟢 买入信号：基于技术指标分析的买入时机
- 🔴 卖出信号：基于技术指标分析的卖出时机
- ⏸️ 持有信号：无明确买卖方向

### 回测报告
- **总收益率**: 策略在整个回测期间的表现
- **年化收益率**: 年化后的收益率表现
- **最大回撤**: 策略可能出现的最大亏损幅度
- **最终价值**: 初始资本经过策略运作后的最终价值

## 系统优势

1. **双数据源架构**: 结合免费实时数据和付费历史数据的优势
2. **稳定运行**: 实时信号不受权限限制影响
3. **精确回测**: 使用高质量历史数据验证策略
4. **灵活配置**: 可以独立运行实时信号或回测功能
5. **中文界面**: 完全中文的用户界面和提示信息

## 技术架构

- **数据层**: EastMoney (实时) + Tushare (历史)
- **策略层**: 多种技术指标策略引擎
- **信号层**: 实时信号生成与回测验证
- **应用层**: 统一的用户交互界面

## 注意事项

1. **实时数据**: EastMoney提供稳定的免费实时数据
2. **回测精度**: Tushare提供高质量的历史数据
3. **网络状况**: 系统会在网络不佳时使用模拟数据
4. **风险提示**: 所有信号仅供参考，实际投资需谨慎

系统已完美平衡了实时信号的稳定性与回测数据的精确性！